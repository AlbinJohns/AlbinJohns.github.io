for(var table="",row=15,col=50,startNode="",endNode="",listID=[],ClistID=[],graph=[],p=[],visitedgraph=[],g=[],z=0,algo="a",r=0;r<row;r++){table+="<tr>";for(var c=0;c<col;c++){var id=r+"-"+c;listID.push(extract(id)),ClistID.push(extract(id)),table+="<td id="+id+" class='unvisited'onclick=getID(id)></td>"}table+="</tr>"}function getID(i){if(""==endNode)if(""==startNode){if(startNode=extract(i),document.getElementById("variable").innerHTML="<center>Please set the End Node.</center>",graph.push([startNode,null,0]),0==z)for(var t=0;t<listID.length;t++)JSON.stringify(listID[t])!==JSON.stringify(startNode)&&graph.push([listID[t],null,9999]);else if(1==z)for(t=0;t<ClistID.length;t++)listID.push(ClistID[t]),JSON.stringify(listID[t])!==JSON.stringify(startNode)&&graph.push([ClistID[t],null,9999]);document.getElementById(i).className="startNode"}else document.getElementById(i).className="endNode",document.getElementById("variable").innerHTML="<center>Select Nodes to act as walls(or click START).</center>",endNode=extract(i),document.getElementById("btn").disabled=!1;else"unvisited"==document.getElementById(i).className?(document.getElementById(i).className="wall",document.getElementById("variable").innerHTML="<center>Click START to find PATH.</center>"):"wall"==document.getElementById(i).className?document.getElementById(i).className="unvisited":alert("Wall cannot be formed")}function execute(){for("a"==algo?Astar(graph,startNode,endNode):Dijkstra(graph,startNode,endNode),p=graph[0],document.getElementById("variable").innerHTML="<center>Path Found!</center>";JSON.stringify(p[1])!=JSON.stringify(startNode);)for(i=0;i<visitedgraph.length;i++)if(JSON.stringify(p[1])==JSON.stringify(visitedgraph[i][0])){p=visitedgraph[i],id=visitedgraph[i][0][0]+"-"+visitedgraph[i][0][1],document.getElementById(id).className="path";break}}function slateClean(){for(z=1,startNode="",endNode="",listID=[],graph=[],visitedgraph=[],algo="a",document.getElementById("variable").innerHTML="<center>Here we go again...</center>",i=0;i<ClistID.length;i++)document.getElementById(ClistID[i][0]+"-"+ClistID[i][1]).className="unvisited"}function crtWall(){var i=0;for(slateClean();i<=200;)r=Math.floor(15*Math.random()),c=Math.floor(50*Math.random()),1==r.length&&(r="0"+r),1==c.lenght&&(c="0"+c),id=r+"-"+c,document.getElementById(id).className="wall",i++}function drop(){document.getElementById("myDropdown").classList.toggle("show")}function temp(){algo="d",document.getElementById("variable").innerHTML="<center>You are using Dijkstra Pathfinding Algorithm</center>"}function update(i){i.sort(function(i,t){return i[2]-t[2]})}function extract(i){return(i=i.split("-")).map(i=>parseInt(i))}function Dijkstra(t,e,s){for(update(t);JSON.stringify(e)!=JSON.stringify(s)&&JSON.stringify(t[0][0])!=JSON.stringify(s);){c=t[0][2]+1;var n=0,r=0,l=0,d=0,a=0;if(JSON.stringify(visitedgraph)!=JSON.stringify([]))for(i=0;i<visitedgraph.length;i++)JSON.stringify(visitedgraph[i][0])==JSON.stringify([t[0][0][0]+1,t[0][0][1]])&&0==a?(n++,a=1):JSON.stringify(visitedgraph[i][0])==JSON.stringify([t[0][0][0]-1,t[0][0][1]])&&0==d?(n++,d=1):JSON.stringify(visitedgraph[i][0])==JSON.stringify([t[0][0][0],t[0][0][1]+1])&&0==l?(n++,l=1):JSON.stringify(visitedgraph[i][0])==JSON.stringify([t[0][0][0],t[0][0][1]-1])&&0==r&&(n++,r=1);for(j=0;j<listID.length;j++){if(JSON.stringify([t[0][0][0]+1,t[0][0][1]])===JSON.stringify(listID[j])){for(i=0;i<t.length;i++)if(JSON.stringify(t[i][0])==JSON.stringify(listID[j])&&(n++,t[i][2]>c&&"wall"!=document.getElementById(listID[j][0]+"-"+listID[j][1]).className)){t[i][1]=t[0][0],t[i][2]=c,id=t[0][0][0]+1+"-"+t[0][0][1],"endNode"!=document.getElementById(id).className&&(document.getElementById(id).className="pointer");break}}else if(JSON.stringify([t[0][0][0]-1,t[0][0][1]])===JSON.stringify(listID[j])){for(i=0;i<t.length;i++)if(JSON.stringify(t[i][0])==JSON.stringify(listID[j])&&(n++,t[i][2]>c&&"wall"!=document.getElementById(listID[j][0]+"-"+listID[j][1]).className)){t[i][1]=t[0][0],t[i][2]=c,id=t[0][0][0]-1+"-"+t[0][0][1],"endNode"!=document.getElementById(id).className&&(document.getElementById(id).className="pointer");break}}else if(JSON.stringify([t[0][0][0],t[0][0][1]+1])===JSON.stringify(listID[j])){for(i=0;i<t.length;i++)if(JSON.stringify(t[i][0])==JSON.stringify(listID[j])&&(n++,t[i][2]>c&&"wall"!=document.getElementById(listID[j][0]+"-"+listID[j][1]).className)){t[i][1]=t[0][0],t[i][2]=c,id=t[0][0][0]+"-"+(t[0][0][1]+1),"endNode"!=document.getElementById(id).className&&(document.getElementById(id).className="pointer");break}}else if(JSON.stringify([t[0][0][0],t[0][0][1]-1])===JSON.stringify(listID[j]))for(i=0;i<t.length;i++)if(JSON.stringify(t[i][0])==JSON.stringify(listID[j])&&(n++,t[i][2]>c&&"wall"!=document.getElementById(listID[j][0]+"-"+listID[j][1]).className)){t[i][1]=t[0][0],t[i][2]=c,id=t[0][0][0]+"-"+(t[0][0][1]-1),"endNode"!=document.getElementById(id).className&&(document.getElementById(id).className="pointer");break}if(4==n){for(visitedgraph.push(t[0]),id=t[0][0][0]+"-"+t[0][0][1],"startNode"!=document.getElementById(id).className&&(document.getElementById(id).className="visited"),i=0;i<listID.length;i++)if(JSON.stringify(t[0][0])==JSON.stringify(listID[i])){listID.splice(i,1);break}t.shift();break}if(2==n&&(JSON.stringify(t[0][0])==JSON.stringify([0,0])||JSON.stringify(t[0][0])==JSON.stringify([0,col-1])||JSON.stringify(t[0][0])==JSON.stringify([row-1,0])||JSON.stringify(t[0][0])==JSON.stringify([row-1,col-1]))){for(visitedgraph.push(t[0]),id=t[0][0][0]+"-"+t[0][0][1],"startNode"!=document.getElementById(id).className&&(document.getElementById(id).className="visited"),i=0;i<listID.length;i++)if(JSON.stringify(t[0][0])==JSON.stringify(listID[i])){listID.splice(i,1);break}t.shift();break}if(3==n&&(0==t[0][0][0]||t[0][0][0]==row-1||0==t[0][0][1]||t[0][0][1]==col-1)){for(visitedgraph.push(t[0]),id=t[0][0][0]+"-"+t[0][0][1],"startNode"!=document.getElementById(id).className&&(document.getElementById(id).className="visited"),i=0;i<listID.length;i++)if(JSON.stringify(t[0][0])==JSON.stringify(listID[i])){listID.splice(i,1);break}t.shift();break}}update(t)}}function Astar(t,e,s){for(update(t);JSON.stringify(e)!=JSON.stringify(s)&&JSON.stringify(t[0][0])!=JSON.stringify(s);){var n=t[0][0][0]-s[0]+(t[0][0][1]-s[1]);n=Math.abs(n),c=t[0][2]+n+1;var r=0,l=0,d=0,a=0;n=0;if(JSON.stringify(visitedgraph)!=JSON.stringify([]))for(i=0;i<visitedgraph.length;i++)JSON.stringify(visitedgraph[i][0])==JSON.stringify([t[0][0][0]+1,t[0][0][1]])&&0==n?(r++,n=1):JSON.stringify(visitedgraph[i][0])==JSON.stringify([t[0][0][0]-1,t[0][0][1]])&&0==a?(r++,a=1):JSON.stringify(visitedgraph[i][0])==JSON.stringify([t[0][0][0],t[0][0][1]+1])&&0==d?(r++,d=1):JSON.stringify(visitedgraph[i][0])==JSON.stringify([t[0][0][0],t[0][0][1]-1])&&0==l&&(r++,l=1);for(j=0;j<listID.length;j++){if(JSON.stringify([t[0][0][0]+1,t[0][0][1]])===JSON.stringify(listID[j])){for(i=0;i<t.length;i++)if(JSON.stringify(t[i][0])==JSON.stringify(listID[j])&&(r++,t[i][2]>c&&"wall"!=document.getElementById(listID[j][0]+"-"+listID[j][1]).className)){t[i][1]=t[0][0],t[i][2]=c,id=t[0][0][0]+1+"-"+t[0][0][1],"endNode"!=document.getElementById(id).className&&(document.getElementById(id).className="pointer");break}}else if(JSON.stringify([t[0][0][0]-1,t[0][0][1]])===JSON.stringify(listID[j])){for(i=0;i<t.length;i++)if(JSON.stringify(t[i][0])==JSON.stringify(listID[j])&&(r++,t[i][2]>c&&"wall"!=document.getElementById(listID[j][0]+"-"+listID[j][1]).className)){t[i][1]=t[0][0],t[i][2]=c,id=t[0][0][0]-1+"-"+t[0][0][1],"endNode"!=document.getElementById(id).className&&(document.getElementById(id).className="pointer");break}}else if(JSON.stringify([t[0][0][0],t[0][0][1]+1])===JSON.stringify(listID[j])){for(i=0;i<t.length;i++)if(JSON.stringify(t[i][0])==JSON.stringify(listID[j])&&(r++,t[i][2]>c&&"wall"!=document.getElementById(listID[j][0]+"-"+listID[j][1]).className)){t[i][1]=t[0][0],t[i][2]=c,id=t[0][0][0]+"-"+(t[0][0][1]+1),"endNode"!=document.getElementById(id).className&&(document.getElementById(id).className="pointer");break}}else if(JSON.stringify([t[0][0][0],t[0][0][1]-1])===JSON.stringify(listID[j]))for(i=0;i<t.length;i++)if(JSON.stringify(t[i][0])==JSON.stringify(listID[j])&&(r++,t[i][2]>c&&"wall"!=document.getElementById(listID[j][0]+"-"+listID[j][1]).className)){t[i][1]=t[0][0],t[i][2]=c,id=t[0][0][0]+"-"+(t[0][0][1]-1),"endNode"!=document.getElementById(id).className&&(document.getElementById(id).className="pointer");break}if(4==r){for(visitedgraph.push(t[0]),id=t[0][0][0]+"-"+t[0][0][1],"startNode"!=document.getElementById(id).className&&(document.getElementById(id).className="visited"),i=0;i<listID.length;i++)if(JSON.stringify(t[0][0])==JSON.stringify(listID[i])){listID.splice(i,1);break}t.shift();break}if(2==r&&(JSON.stringify(t[0][0])==JSON.stringify([0,0])||JSON.stringify(t[0][0])==JSON.stringify([0,col-1])||JSON.stringify(t[0][0])==JSON.stringify([row-1,0])||JSON.stringify(t[0][0])==JSON.stringify([row-1,col-1]))){for(visitedgraph.push(t[0]),id=t[0][0][0]+"-"+t[0][0][1],"startNode"!=document.getElementById(id).className&&(document.getElementById(id).className="visited"),i=0;i<listID.length;i++)if(JSON.stringify(t[0][0])==JSON.stringify(listID[i])){listID.splice(i,1);break}t.shift();break}if(3==r&&(0==t[0][0][0]||t[0][0][0]==row-1||0==t[0][0][1]||t[0][0][1]==col-1)){for(visitedgraph.push(t[0]),id=t[0][0][0]+"-"+t[0][0][1],"startNode"!=document.getElementById(id).className&&(document.getElementById(id).className="visited"),i=0;i<listID.length;i++)if(JSON.stringify(t[0][0])==JSON.stringify(listID[i])){listID.splice(i,1);break}t.shift();break}}update(t)}}document.write("<table align='center'>"+table+"</table>"),window.onclick=function(i){if(!i.target.matches(".dropbtn")){var t,e=document.getElementsByClassName("dropdown-content");for(t=0;t<e.length;t++){var s=e[t];s.classList.contains("show")&&s.classList.remove("show")}}};
